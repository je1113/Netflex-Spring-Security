JPA Auditing 자체는 단순하지만, 이 프로젝트는 "누가 요청했는지(requestedBy)"를 HTTP 헤더에서 꺼내서 DB에 자동 기록하는      구조라서 파일이 많아진 겁니다.

## 흐름도

1. HTTP 요청 (requested-by 헤더)
2. [app-api] Interceptor가 헤더에서 사용자 정보 추출 → AuthenticationHolder에 저장
3. [core-service] AuditorAware가 AuthenticationHolder에서 사용자 정보 조회
4. [adapter-persistence] JPA가 @CreatedBy, @LastModifiedBy에 자동 주입

## 파일별 역할 (3개 레이어)

1. adapter-persistence (1파일) — JPA Auditing 활성화

┌────────────────┬───────────────────────────────────────────────┐
│      파일      │                     역할                      │
├────────────────┼───────────────────────────────────────────────┤
│ JpaAuditConfig │ @EnableJpaAuditing 설정, auditorAware 빈 참조 │
└────────────────┴───────────────────────────────────────────────┘

2. core-service (3파일) — 감사 정보 제공자

┌─────────────────────────┬────────────────────────────────────────────┐
│          파일           │                    역할                    │
├─────────────────────────┼────────────────────────────────────────────┤
│ RequestedByAuditAware   │ AuditorAware<String> 구현 → 누가 했는지    │
├─────────────────────────┼────────────────────────────────────────────┤
│ RequestedAtAuditorAware │ DateTimeProvider 구현 → 언제 했는지        │
├─────────────────────────┼────────────────────────────────────────────┤
│ RequestedByProvider     │ 인터페이스 — 사용자 정보를 가져오는 추상화 │
└─────────────────────────┴────────────────────────────────────────────┘

3. app-api (8파일) — HTTP 요청에서 사용자 정보 추출

┌──────────────────────────┬──────────────────────────────────────────┐
│           파일           │                   역할                   │
├──────────────────────────┼──────────────────────────────────────────┤
│ Authentication           │ 인증 정보 인터페이스                     │
├──────────────────────────┼──────────────────────────────────────────┤
│ AuthenticationHolder     │ 인증 정보 저장소 인터페이스              │
├──────────────────────────┼──────────────────────────────────────────┤
│ AuthenticationHolderImpl │ 저장소 구현 + RequestedByProvider 구현   │
├──────────────────────────┼──────────────────────────────────────────┤
│ RequestedBy              │ Authentication 구현체 (헤더값 래핑)      │
├──────────────────────────┼──────────────────────────────────────────┤
│ RequestedByProvider      │ 사용자 정보 제공 인터페이스 (app-api 쪽) │
├──────────────────────────┼──────────────────────────────────────────┤
│ RequestedByInterceptor   │ 핵심 — HTTP 헤더에서 requested-by 추출   │
├──────────────────────────┼──────────────────────────────────────────┤
│ RequestedByMvcConfigurer │ 인터셉터를 Spring MVC에 등록             │
└──────────────────────────┴──────────────────────────────────────────┘

## 왜 이렇게 많은가?

단순히 @EnableJpaAuditing만 하면 1~2파일이면 됩니다. 하지만 이 프로젝트는:

1. 헥사고날 아키텍처 — 레이어 간 직접 참조 불가, 인터페이스로 분리해야 함
2. HTTP 헤더 → DB 기록 — 웹 레이어(app-api)의 정보를 DB 레이어(persistence)까지 전달해야 하므로 중간 추상화 필요
3. 인터셉터 패턴 — 매 요청마다 자동으로 사용자 정보를 캡처하려면 인터셉터 + 설정 + 홀더가 필요

한 줄 요약: JPA Auditing 자체보다는, "HTTP 요청의 헤더 값을 모듈 경계를 넘어 DB까지 전달하는 구조"를 만들기 위해 파일이
많아진 것입니다.